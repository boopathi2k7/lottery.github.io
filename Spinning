import React from "react";
import { render, screen } from "@testing-library/react";
import "@testing-library/jest-dom"; // For better matchers
import { Spinner } from "./Spinner"; // Adjust the import based on actual file structure

describe("Spinner Component", () => {
  test("renders Spinner component", () => {
    render(<Spinner />);
    const spinnerElement = screen.getByRole("status"); // Checking role 'status'
    expect(spinnerElement).toBeInTheDocument();
  });

  test("should have accessible role and attributes", () => {
    render(<Spinner />);
    const spinnerElement = screen.getByRole("status");
    expect(spinnerElement).toHaveAttribute("aria-describedby", "SpinnerText");
  });

  test("should have a loading message hidden for screen readers", () => {
    render(<Spinner />);
    const loadingText = screen.getByText(/Loading/i);
    expect(loadingText).toHaveClass("hlx-ada-hidden");
  });

  test("should apply custom variant if provided", () => {
    render(<Spinner variant="custom-variant" />);
    const iconElement = screen.getByTestId("loader"); // Assuming a testId exists
    expect(iconElement).toHaveClass("spin-animation");
  });
});
